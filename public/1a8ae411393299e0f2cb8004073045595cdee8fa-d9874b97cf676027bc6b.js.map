{"version":3,"sources":["webpack://they-work-for-us/./src/components/externalLink.js","webpack://they-work-for-us/./src/components/profile/officialWebsite.js","webpack://they-work-for-us/./src/utils/index.js","webpack://they-work-for-us/./node_modules/lodash/compact.js"],"names":["children","props","target","rel","cssLinkBox","fontSize","fontFamily","fontWeight","textDecoration","border","marginRight","padding","color","profile","items","map","key","official","href","css","className","formatDate","dt","dayjs","formatNumber","num","formatOrdinalNumber","s","ord","sortThaiLocale","a","b","peopleSlug","fullname","ageFromBirthdate","birthdate","motionCategorySlug","subCategory","arrangeData","data","template","options","valueKey","item","col","name","background","loadCategoryStats","input","education","occupation_group","x","main_occupation_group","restMin","unknownIndex","unknown","parseInt","temp","count_others","idx","value","combineCategory","oc","includes","group","gender","age","ageBin","String","today","y","birthdayToAgeHistogram","asset","edges","bins","lowerbound","assets","max","prev_lowerbound","Number","POSITIVE_INFINITY","node","bin","assetHistogram","mp_type","filterVote","peopleVotelog","o","p","joinPeopleVotelog","people","peopleVotelogs","votelogs","limit","votelogByPeople","allPeople","person","vote","votelog","approve","disprove","abstained","absent","filteredVoteResult","total_voter","module","exports","array","index","length","resIndex","result"],"mappings":"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","file":"1a8ae411393299e0f2cb8004073045595cdee8fa-d9874b97cf676027bc6b.js","sourcesContent":["import React from \"react\"\n\nconst ExternalLink = ({ children, ...props }) => {\n  return (\n    <a {...props} target=\"_blank\" rel=\"noopener noreferrer\">\n      {children}\n    </a>\n  )\n}\n\nexport default ExternalLink\n","import React from \"react\"\nimport _ from \"lodash\"\nimport ExternalLink from \"../externalLink\"\n\nconst cssLinkBox = {\n  fontSize: \"1.7rem\",\n  fontFamily: \"var(--ff-title)\",\n  fontWeight: \"bold\",\n  textDecoration: \"none\",\n  border: \"1px solid var(--cl-black)\",\n  marginRight: \"1rem\",\n  padding: \"0 1rem\",\n  color: \"var(--cl-black)\",\n  \"&:hover\": {\n    textDecoration: \"none\",\n  },\n}\n\n// component to show official websites\nconst OfficialWebsite = profile => {\n  const items = _.compact(\n    [\"website\", \"facebook\", \"twitter\"].map(key => {\n      const official = profile[key]\n      if (!official) return null\n      return (\n        <ExternalLink key={key} href={official} css={{ ...cssLinkBox }}>\n          {_.startCase(key)}\n        </ExternalLink>\n      )\n    })\n  )\n  return (\n    <div className=\"official-website\">\n      {items.length > 0 ? items : \"ไม่มีข้อมูล\"}\n    </div>\n  )\n}\n\nexport default OfficialWebsite\n","import dayjs from \"dayjs\"\nimport _ from \"lodash\"\n\n/**\n * Format date\n * @param {Date,String,dayjs} date\n */\nexport function formatDate(dt) {\n  return dayjs(dt).format(\"DD.MM.YYYY\")\n}\n\n/**\n * Format number with thousands\n * @param {Number} num\n */\nexport function formatNumber(num) {\n  return num.toString().replace(/(\\d)(?=(\\d{3})+(?!\\d))/g, \"$1,\")\n}\n\n/**\n * Format ordinal number e.g. 2 => 2nd, 3 => 3rd\n * @param {Number} num\n */\nexport function formatOrdinalNumber(num) {\n  const s = num.toString()\n  const n = s.slice(-1)\n  let ord\n  switch (n) {\n    case \"1\":\n      ord = \"st\"\n      break\n    case \"2\":\n      ord = \"nd\"\n      break\n    case \"3\":\n      ord = \"rd\"\n      break\n    default:\n      ord = \"th\"\n  }\n  return `${s}<sup>${ord}</sup>`\n}\n\n/**\n * Comparator function to use in Array.sort(sortThaiLocale)\n * @param {People} a Person object\n * @param {People} b Person object\n */\nexport function sortThaiLocale(a, b) {\n  return a.name === b.name\n    ? a.lastname.localeCompare(b.lastname, \"th\")\n    : a.name.localeCompare(b.name, \"th\")\n}\n\n/**\n * Create people profile slug\n * @param {String} fullname\n */\nexport function peopleSlug(fullname) {\n  if (!fullname) return \"\"\n  return `/people/${fullname.replace(/ /g, \"-\")}`\n}\n\n/**\n * Calcaulate person's age from his/her birthdaty\n * @param {String, Date} birthdate Date format accepted by dayjs\n */\nexport function ageFromBirthdate(birthdate) {\n  return dayjs().diff(dayjs(birthdate), \"year\")\n}\n\n/**\n * For fun. Change arabic number to Thai reading\n * @param {Number} number\n */\nexport function getThaiName(number) {\n  const mapping = d => {\n    switch (d) {\n      case \"0\":\n        return \"ศูนย์\"\n      case \"1\":\n        return \"หนึ่ง\"\n      case \"2\":\n        return \"สอง\"\n      case \"3\":\n        return \"สาม\"\n      case \"4\":\n        return \"สี่\"\n      case \"5\":\n        return \"ห้า\"\n      case \"6\":\n        return \"หก\"\n      case \"7\":\n        return \"เจ็ด\"\n      case \"8\":\n        return \"แปด\"\n      case \"9\":\n        return \"เก้า\"\n      default:\n        return \"ว่าง\"\n    }\n  }\n  const digits = String(number)\n  return _.map(digits, d => mapping(d)).join(\"\")\n}\n\n/**\n * Create motion category slug\n * @param {String} subCategory\n */\nexport function motionCategorySlug(subCategory) {\n  if (!subCategory) return \"\"\n  return `${subCategory.replace(/ /g, \"-\")}`\n}\n\nexport function float2Grey(x) {\n  x = 1 - x\n  x = parseInt(x * 15)\n  x = x.toString(16)\n  return \"#\" + x + x + x\n}\n\nexport function calculateBackground(input) {\n  let count = input.length - 1\n  input.forEach((x, idx) => {\n    x.background = float2Grey(idx / count)\n  })\n  return input\n}\n\nexport function combineCategory(input, restMin = 3) {\n  // first, split 'unknown' and other values\n  const unknownIndex = _.findIndex(input, [\"name\", \"ไม่พบข้อมูล\"])\n  const [unknown] = unknownIndex >= 0 ? input.splice(unknownIndex, 1) : []\n\n  // sort the rest by m\n  input.sort((a, b) => parseInt(b.value) - parseInt(a.value))\n  let temp = []\n  let count_others = 0\n  input.map((x, idx) => {\n    if (idx > restMin - 1) {\n      count_others += x.value\n    } else {\n      temp.push(x)\n    }\n    return x\n  })\n  if (count_others > 0) {\n    temp.push({ value: count_others, name: \"อื่นๆ\" })\n  }\n  input = temp\n\n  // lastly, put 'unknown' back as the last item\n  if (unknown) {\n    input.push(unknown)\n  }\n  return input\n}\n\nexport function padCategory(input) {\n  input.map(x => {\n    if (!x.name) {\n      x.name = \"ไม่พบข้อมูล\"\n    }\n    return x\n  })\n  return input\n}\n\nexport function assetHistogram(edges, bins = [10, 100, 1000]) {\n  const unknown = { name: \"ไม่พบข้อมูล\", value: 0 }\n  let lowerbound = -1\n  let prev_lowerbound\n  const assets = [\n    ...bins.map(max => {\n      prev_lowerbound = lowerbound + 1\n      lowerbound = max\n      return {\n        name: `${prev_lowerbound}-${max} ล้านบาท`,\n        value: 0,\n        max: max * 1e6,\n      }\n    }),\n    {\n      name: `${bins[bins.length - 1] + 1} ล้านบาทขึ้นไป`,\n      value: 0,\n      max: Number.POSITIVE_INFINITY,\n    },\n  ]\n  edges.forEach(({ node }) => {\n    if (typeof node.asset === \"number\" && node.asset >= 0) {\n      for (const bin of assets) {\n        if (node.asset <= bin.max) {\n          bin.value++\n          break\n        }\n      }\n    } else {\n      unknown.value++\n    }\n  })\n  return [...assets, unknown]\n}\n\nexport function birthdayToAgeHistogram(birthdate, ageBin = [39, 55, 74]) {\n  let age = []\n  age.push({\n    name: String(\"25-\" + String(ageBin[0] - 1)) + \" ปี\",\n    value: 0,\n  })\n  age.push({\n    name: String(ageBin[0]) + \"-\" + String(ageBin[1] - 1) + \" ปี\",\n    value: 0,\n  })\n  age.push({\n    name: String(ageBin[1]) + \"-\" + String(ageBin[2] - 1) + \" ปี\",\n    value: 0,\n  })\n  age.push({ name: String(ageBin[2]) + \" ปีขึ้นไป\", value: 0 })\n  const today = dayjs().year()\n  birthdate.map(x => {\n    const y = dayjs(x.node.birthdate).year()\n    const a = today - y\n    if (a < ageBin[0]) {\n      age[0].value++\n    } else if (a < ageBin[1]) {\n      age[1].value++\n    } else if (a < ageBin[2]) {\n      age[2].value++\n    } else {\n      age[3].value++\n    }\n    return x\n  })\n  return age\n}\n\n/**\n * Template is an ordered list of columns to sort and set color\n * template = [\n *   { name: 'Male', label: 'เพศชาย', background: 'blue' },\n *   { name: 'Female', label: 'เพศหญฺิง', background: 'red' },\n * ]\n *\n * Where\n * - `name` is a group value to match\n * - `label`, if specified, use this value as a label name instead of value of `name`\n * - `background` set color for this stack\n * @param {*} data\n * @param {Array} template\n */\nexport function arrangeData(data, template, options = {}) {\n  options = {\n    valueKey: \"name\",\n    ...options,\n  }\n  return _.compact(\n    template.map((col, i) => {\n      const item = _.find(data || [], [options.valueKey, col.name])\n      if (!item) return null\n      return {\n        ...item,\n        name: col.label || col.name,\n        background: col.background,\n      }\n    })\n  )\n}\n\nexport function loadCategoryStats(data) {\n  let education\n  if (_.get(data, \"education.group\")) {\n    education = [..._.get(data, \"education.group\")]\n    education = arrangeData(education, [\n      { name: \"ต่ำกว่าปริญญาตรี\", background: \"var(--cl-theme-1)\" },\n      { name: \"สถาบันทหาร\", background: \"var(--cl-theme-2)\" },\n      { name: \"ปริญญาตรี\", background: \"var(--cl-theme-3)\" },\n      { name: \"ปริญญาโท\", background: \"var(--cl-theme-4)\" },\n      { name: \"ปริญญาเอก\", background: \"var(--cl-theme-5)\" },\n      { name: \"ไม่พบข้อมูล\", background: \"var(--cl-theme-unknown)\" },\n    ])\n  }\n\n  let occupation_group\n  if (_.get(data, \"occupation_group.group\")) {\n    occupation_group = [..._.get(data, \"occupation_group.group\")]\n    occupation_group = padCategory(occupation_group)\n    occupation_group = combineCategory(occupation_group)\n    const main_occupation_group = occupation_group.filter(\n      oc => ![\"อื่นๆ\", \"ไม่พบข้อมูล\"].includes(oc.name)\n    )\n    occupation_group = arrangeData(occupation_group, [\n      ...main_occupation_group.slice(0, 3).map((group, i) => ({\n        name: group.name,\n        background: `var(--cl-theme-${2 + i})`,\n      })),\n      { name: \"อื่นๆ\", background: \"var(--cl-theme-5)\" },\n      { name: \"ไม่พบข้อมูล\", background: \"var(--cl-theme-unknown)\" },\n    ])\n  }\n\n  let gender\n  if (_.get(data, \"gender.group\")) {\n    gender = [..._.get(data, \"gender.group\")]\n    gender = arrangeData(gender, [\n      { name: \"ชาย\", background: \"var(--cl-theme-2)\" },\n      { name: \"หญิง\", background: \"var(--cl-theme-5)\" },\n      { name: \"ไม่พบข้อมูล\", background: \"var(--cl-theme-unknown)\" },\n    ])\n  }\n\n  let age\n  if (_.get(data, \"age.edges\")) {\n    age = [..._.get(data, \"age.edges\")]\n    age = birthdayToAgeHistogram(age)\n    age = arrangeData(age, [\n      { name: \"25-38 ปี\", background: \"var(--cl-theme-2)\" },\n      { name: \"39-54 ปี\", background: \"var(--cl-theme-3)\" },\n      { name: \"55-73 ปี\", background: \"var(--cl-theme-4)\" },\n      { name: \"74 ปีขึ้นไป\", background: \"var(--cl-theme-5)\" },\n      { name: \"ไม่พบข้อมูล\", background: \"var(--cl-theme-unknown)\" },\n    ])\n  }\n\n  let asset\n  if (_.get(data, \"asset.edges\")) {\n    asset = [..._.get(data, \"asset.edges\")]\n    asset = assetHistogram(asset)\n    asset = arrangeData(asset, [\n      { name: \"0-10 ล้านบาท\", background: \"var(--cl-theme-2)\" },\n      { name: \"11-100 ล้านบาท\", background: \"var(--cl-theme-3)\" },\n      { name: \"101-1000 ล้านบาท\", background: \"var(--cl-theme-4)\" },\n      { name: \"1001 ล้านบาทขึ้นไป\", background: \"var(--cl-theme-5)\" },\n      { name: \"ไม่พบข้อมูล\", background: \"var(--cl-theme-unknown)\" },\n    ])\n  }\n\n  let mp_type\n  if (_.get(data, \"mp_type.group\")) {\n    mp_type = [..._.get(data, \"mp_type.group\")]\n    mp_type = arrangeData(mp_type, [\n      { name: \"บัญชีรายชื่อ\", background: \"var(--cl-theme-2)\" },\n      { name: \"แบ่งเขต\", background: \"var(--cl-theme-5)\" },\n    ])\n  }\n\n  return {\n    gender,\n    asset,\n    age,\n    education,\n    occupation_group,\n    mp_type,\n  }\n}\n\nexport function filterVote(peopleVotelog, key, value) {\n  return _.filter(peopleVotelog, o => {\n    return (\n      _.get(\n        _.find(o.votelog || [], p => p.key === key),\n        \"value\"\n      ) === value\n    )\n  })\n}\n\nexport function joinPeopleVotelog(people, peopleVotelogs, votelogs, limit = 6) {\n  const votelogByPeople = peopleVotelogs.edges.map(({ node }) => node)\n  const allPeople = people.edges.map(({ node: person }) => {\n    const vote = _.find(votelogByPeople, [\"id\", person.id])\n    return {\n      ...person,\n      ...vote,\n    }\n  })\n\n  return votelogs.edges\n    .map(({ node: votelog }) => {\n      const approve = filterVote(allPeople, votelog.id, \"1\").length\n      const disprove = filterVote(allPeople, votelog.id, \"2\").length\n      const abstained = filterVote(allPeople, votelog.id, \"3\").length\n      const absent = filterVote(allPeople, votelog.id, \"4\").length\n      const filteredVoteResult = {\n        approve,\n        disprove,\n        abstained,\n        absent,\n        total_voter: approve + disprove + abstained + absent,\n      }\n      return {\n        ...votelog,\n        ...filteredVoteResult,\n      }\n    })\n    .filter(({ total_voter }) => total_voter > 0)\n    .slice(0, limit)\n}\n","/**\n * Creates an array with all falsey values removed. The values `false`, `null`,\n * `0`, `\"\"`, `undefined`, and `NaN` are falsey.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Array\n * @param {Array} array The array to compact.\n * @returns {Array} Returns the new array of filtered values.\n * @example\n *\n * _.compact([0, 1, false, 2, '', 3]);\n * // => [1, 2, 3]\n */\nfunction compact(array) {\n  var index = -1,\n      length = array == null ? 0 : array.length,\n      resIndex = 0,\n      result = [];\n\n  while (++index < length) {\n    var value = array[index];\n    if (value) {\n      result[resIndex++] = value;\n    }\n  }\n  return result;\n}\n\nmodule.exports = compact;\n"],"sourceRoot":""}