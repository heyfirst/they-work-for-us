{"version":3,"file":"97a3b9581df50a4123f64d1259151d34d0c5dcbb-4c68d3878b1ee8ad5ba7.js","mappings":"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","sources":["webpack://they-work-for-us/./src/components/partyLogo.js","webpack://they-work-for-us/./src/components/waffle.js","webpack://they-work-for-us/./node_modules/lodash/_arrayAggregator.js","webpack://they-work-for-us/./node_modules/lodash/_baseAggregator.js","webpack://they-work-for-us/./node_modules/lodash/_baseAssignValue.js","webpack://they-work-for-us/./node_modules/lodash/_createAggregator.js","webpack://they-work-for-us/./node_modules/lodash/_defineProperty.js","webpack://they-work-for-us/./node_modules/lodash/_isIterateeCall.js","webpack://they-work-for-us/./node_modules/lodash/chunk.js","webpack://they-work-for-us/./node_modules/lodash/groupBy.js"],"sourcesContent":["import React from \"react\"\nimport { useStaticQuery, graphql } from \"gatsby\"\nimport { GatsbyImage, getImage } from \"gatsby-plugin-image\"\n\nconst PartyLogo = ({ name }) => {\n  const { partyImages } = useStaticQuery(graphql`\n    query {\n      partyImages: allFile(\n        filter: { relativeDirectory: { eq: \"images/party\" } }\n      ) {\n        edges {\n          node {\n            name\n            childImageSharp {\n              gatsbyImageData(width: 45)\n            }\n          }\n        }\n      }\n    }\n  `)\n\n  const placeHolderImageNode = partyImages.edges.find(\n    ({ node }) => node.name === \"placeholder\"\n  )\n\n  const partyImageNode = partyImages.edges.find(\n    ({ node }) => node.name === name\n  )\n\n  return (\n    <GatsbyImage\n      image={getImage((partyImageNode || placeHolderImageNode).node)}\n      alt={name || \"\"}\n    />\n  )\n}\n\nexport default PartyLogo\n","import React from \"react\"\nimport { chunk, groupBy } from \"lodash\"\nimport PeopleCard from \"./peopleCard\"\nimport PartyLogo from \"./partyLogo\"\n\nimport cross from \"../images/icons/votelog/cross.png\"\n\nimport \"../styles/global.css\"\nimport \"./waffle.css\"\n\nconst COUNT_OF_WAFFLE = 25\n\nlet cellStyle = (color, borderColor, isCross = false) => ({\n  position: \"relative\",\n  width: 8,\n  height: 8,\n  boxSizing: \"border-box\",\n  margin: \"0 3px 3px 0\",\n  border: \"1px solid var(--cl-black)\",\n  borderColor,\n  backgroundColor: color,\n  \"&:hover\": {\n    border: \"2px solid var(--cl-black)\",\n  },\n  \"&:hover .tooltip-text\": {\n    display: \"block\",\n    zIndex: 10,\n  },\n  ...(isCross && {\n    border: \"none\",\n    backgroundImage: `url(${cross})`,\n    backgroundPosition: \"center\",\n    backgroundSize: \"contain\",\n  }),\n})\n\nconst tooltipTextStyle = {\n  display: \"none\",\n  position: \"absolute\",\n  top: \"5px\",\n  left: \"-2px\",\n  width: 350,\n  padding: 0,\n  lineHeight: \"1.8rem\",\n  border: \"none\",\n  borderRadius: \"0 5px 5px 5px\",\n  backgroundColor: \"transparent\",\n}\n\nconst WaffleCell = ({ node, cellStyleProps }) => {\n  return (\n    <div\n      css={cellStyle(\n        cellStyleProps.color,\n        cellStyleProps.borderColor,\n        cellStyleProps.isCross\n      )}\n    >\n      <div className=\"tooltip-text\" css={tooltipTextStyle}>\n        <PeopleCard\n          {...node}\n          css={{\n            padding: \"1rem 1rem\",\n            margin: 0,\n            alignItems: \"center\",\n            border: \"2px solid var(--cl-black)\",\n            \".card-info\": {\n              \".card-name\": {\n                fontSize: \"1.8rem\",\n                fontWeight: \"bold\",\n                fontFamily: \"var(--ff-text)\",\n              },\n              \".card-description\": {\n                fontSize: \"1.6rem\",\n                fontFamily: \"var(--ff-text)\",\n              },\n            },\n            \".profile-picture\": {\n              height: \"5rem\",\n              flexBasis: \"5rem\",\n            },\n          }}\n        ></PeopleCard>\n      </div>\n    </div>\n  )\n}\n\nexport const WaffleAligner = ({ data, cellStyleProps, style }) => {\n  const chunks = chunk(data, COUNT_OF_WAFFLE)\n\n  return (\n    <div className=\"waffle-chunk-container\" style={style}>\n      {chunks.map((chunk, chunkIdx) => (\n        <div className=\"waffle-chunk\" key={`wch${chunkIdx}`}>\n          {chunk.map(({ node }, nodeIdx) => (\n            <WaffleCell {...{ node, cellStyleProps }} key={`wc${nodeIdx}`} />\n          ))}\n        </div>\n      ))}\n    </div>\n  )\n}\n\nconst WaffleGroup = ({ party, cellStyleProps }) => {\n  return (\n    <div className=\"waffle-group\">\n      <PartyLogo name={party.name} />\n      <WaffleAligner data={party.data} cellStyleProps={cellStyleProps} />\n    </div>\n  )\n}\n\nconst Waffle = ({\n  data,\n  colors,\n  borderColors,\n  style,\n  css,\n  crossLast = false,\n}) => {\n  const peopleGrouppedByParty = data.map(type => {\n    const groupByParty = groupBy(type, ({ node }) => node.party)\n    return Object.entries(groupByParty)\n      .map(([partyName, data]) => ({\n        name: partyName,\n        data,\n      }))\n      .sort((a, z) => z.data.length - a.data.length)\n  })\n\n  return (\n    <div\n      className=\"waffle\"\n      css={{\n        justifyContent: \"center\",\n        ...css,\n      }}\n      style={style}\n    >\n      {peopleGrouppedByParty.map((group, groupIdx) => (\n        <React.Fragment key={groupIdx}>\n          <div className=\"waffle-column\">\n            {group.map((party, partyIdx) => (\n              <WaffleGroup\n                key={`${groupIdx}-${partyIdx}`}\n                party={party}\n                cellStyleProps={{\n                  color: colors[groupIdx],\n                  borderColor: borderColors[groupIdx],\n                  isCross:\n                    crossLast && groupIdx === peopleGrouppedByParty.length - 1,\n                }}\n              />\n            ))}\n          </div>\n          {groupIdx !== peopleGrouppedByParty.length - 1 && (\n            <div className=\"line\" />\n          )}\n        </React.Fragment>\n      ))}\n    </div>\n  )\n}\n\nexport default Waffle\n","/**\n * A specialized version of `baseAggregator` for arrays.\n *\n * @private\n * @param {Array} [array] The array to iterate over.\n * @param {Function} setter The function to set `accumulator` values.\n * @param {Function} iteratee The iteratee to transform keys.\n * @param {Object} accumulator The initial aggregated object.\n * @returns {Function} Returns `accumulator`.\n */\nfunction arrayAggregator(array, setter, iteratee, accumulator) {\n  var index = -1,\n      length = array == null ? 0 : array.length;\n\n  while (++index < length) {\n    var value = array[index];\n    setter(accumulator, value, iteratee(value), array);\n  }\n  return accumulator;\n}\n\nmodule.exports = arrayAggregator;\n","var baseEach = require('./_baseEach');\n\n/**\n * Aggregates elements of `collection` on `accumulator` with keys transformed\n * by `iteratee` and values set by `setter`.\n *\n * @private\n * @param {Array|Object} collection The collection to iterate over.\n * @param {Function} setter The function to set `accumulator` values.\n * @param {Function} iteratee The iteratee to transform keys.\n * @param {Object} accumulator The initial aggregated object.\n * @returns {Function} Returns `accumulator`.\n */\nfunction baseAggregator(collection, setter, iteratee, accumulator) {\n  baseEach(collection, function(value, key, collection) {\n    setter(accumulator, value, iteratee(value), collection);\n  });\n  return accumulator;\n}\n\nmodule.exports = baseAggregator;\n","var defineProperty = require('./_defineProperty');\n\n/**\n * The base implementation of `assignValue` and `assignMergeValue` without\n * value checks.\n *\n * @private\n * @param {Object} object The object to modify.\n * @param {string} key The key of the property to assign.\n * @param {*} value The value to assign.\n */\nfunction baseAssignValue(object, key, value) {\n  if (key == '__proto__' && defineProperty) {\n    defineProperty(object, key, {\n      'configurable': true,\n      'enumerable': true,\n      'value': value,\n      'writable': true\n    });\n  } else {\n    object[key] = value;\n  }\n}\n\nmodule.exports = baseAssignValue;\n","var arrayAggregator = require('./_arrayAggregator'),\n    baseAggregator = require('./_baseAggregator'),\n    baseIteratee = require('./_baseIteratee'),\n    isArray = require('./isArray');\n\n/**\n * Creates a function like `_.groupBy`.\n *\n * @private\n * @param {Function} setter The function to set accumulator values.\n * @param {Function} [initializer] The accumulator object initializer.\n * @returns {Function} Returns the new aggregator function.\n */\nfunction createAggregator(setter, initializer) {\n  return function(collection, iteratee) {\n    var func = isArray(collection) ? arrayAggregator : baseAggregator,\n        accumulator = initializer ? initializer() : {};\n\n    return func(collection, setter, baseIteratee(iteratee, 2), accumulator);\n  };\n}\n\nmodule.exports = createAggregator;\n","var getNative = require('./_getNative');\n\nvar defineProperty = (function() {\n  try {\n    var func = getNative(Object, 'defineProperty');\n    func({}, '', {});\n    return func;\n  } catch (e) {}\n}());\n\nmodule.exports = defineProperty;\n","var eq = require('./eq'),\n    isArrayLike = require('./isArrayLike'),\n    isIndex = require('./_isIndex'),\n    isObject = require('./isObject');\n\n/**\n * Checks if the given arguments are from an iteratee call.\n *\n * @private\n * @param {*} value The potential iteratee value argument.\n * @param {*} index The potential iteratee index or key argument.\n * @param {*} object The potential iteratee object argument.\n * @returns {boolean} Returns `true` if the arguments are from an iteratee call,\n *  else `false`.\n */\nfunction isIterateeCall(value, index, object) {\n  if (!isObject(object)) {\n    return false;\n  }\n  var type = typeof index;\n  if (type == 'number'\n        ? (isArrayLike(object) && isIndex(index, object.length))\n        : (type == 'string' && index in object)\n      ) {\n    return eq(object[index], value);\n  }\n  return false;\n}\n\nmodule.exports = isIterateeCall;\n","var baseSlice = require('./_baseSlice'),\n    isIterateeCall = require('./_isIterateeCall'),\n    toInteger = require('./toInteger');\n\n/* Built-in method references for those with the same name as other `lodash` methods. */\nvar nativeCeil = Math.ceil,\n    nativeMax = Math.max;\n\n/**\n * Creates an array of elements split into groups the length of `size`.\n * If `array` can't be split evenly, the final chunk will be the remaining\n * elements.\n *\n * @static\n * @memberOf _\n * @since 3.0.0\n * @category Array\n * @param {Array} array The array to process.\n * @param {number} [size=1] The length of each chunk\n * @param- {Object} [guard] Enables use as an iteratee for methods like `_.map`.\n * @returns {Array} Returns the new array of chunks.\n * @example\n *\n * _.chunk(['a', 'b', 'c', 'd'], 2);\n * // => [['a', 'b'], ['c', 'd']]\n *\n * _.chunk(['a', 'b', 'c', 'd'], 3);\n * // => [['a', 'b', 'c'], ['d']]\n */\nfunction chunk(array, size, guard) {\n  if ((guard ? isIterateeCall(array, size, guard) : size === undefined)) {\n    size = 1;\n  } else {\n    size = nativeMax(toInteger(size), 0);\n  }\n  var length = array == null ? 0 : array.length;\n  if (!length || size < 1) {\n    return [];\n  }\n  var index = 0,\n      resIndex = 0,\n      result = Array(nativeCeil(length / size));\n\n  while (index < length) {\n    result[resIndex++] = baseSlice(array, index, (index += size));\n  }\n  return result;\n}\n\nmodule.exports = chunk;\n","var baseAssignValue = require('./_baseAssignValue'),\n    createAggregator = require('./_createAggregator');\n\n/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/**\n * Creates an object composed of keys generated from the results of running\n * each element of `collection` thru `iteratee`. The order of grouped values\n * is determined by the order they occur in `collection`. The corresponding\n * value of each key is an array of elements responsible for generating the\n * key. The iteratee is invoked with one argument: (value).\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Collection\n * @param {Array|Object} collection The collection to iterate over.\n * @param {Function} [iteratee=_.identity] The iteratee to transform keys.\n * @returns {Object} Returns the composed aggregate object.\n * @example\n *\n * _.groupBy([6.1, 4.2, 6.3], Math.floor);\n * // => { '4': [4.2], '6': [6.1, 6.3] }\n *\n * // The `_.property` iteratee shorthand.\n * _.groupBy(['one', 'two', 'three'], 'length');\n * // => { '3': ['one', 'two'], '5': ['three'] }\n */\nvar groupBy = createAggregator(function(result, value, key) {\n  if (hasOwnProperty.call(result, key)) {\n    result[key].push(value);\n  } else {\n    baseAssignValue(result, key, [value]);\n  }\n});\n\nmodule.exports = groupBy;\n"],"names":["name","partyImages","useStaticQuery","placeHolderImageNode","edges","find","node","partyImageNode","G","image","getImage","alt","tooltipTextStyle","display","position","top","left","width","padding","lineHeight","border","borderRadius","backgroundColor","WaffleCell","color","borderColor","isCross","cellStyleProps","css","height","boxSizing","margin","zIndex","backgroundImage","cross","backgroundPosition","backgroundSize","className","WaffleAligner","data","style","chunks","map","chunk","chunkIdx","key","nodeIdx","WaffleGroup","party","colors","borderColors","crossLast","peopleGrouppedByParty","type","groupByParty","Object","entries","sort","a","z","length","justifyContent","group","groupIdx","partyIdx","module","exports","array","setter","iteratee","accumulator","index","value","baseEach","collection","defineProperty","object","arrayAggregator","baseAggregator","baseIteratee","isArray","initializer","func","getNative","e","eq","isArrayLike","isIndex","isObject","baseSlice","isIterateeCall","toInteger","nativeCeil","Math","ceil","nativeMax","max","size","guard","undefined","resIndex","result","Array","baseAssignValue","createAggregator","hasOwnProperty","prototype","groupBy","call","push"],"sourceRoot":""}