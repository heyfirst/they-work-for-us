{"version":3,"file":"component---src-pages-cabinet-js-9bbc7ca8bb09cabd786c.js","mappings":"0bAKaA,EAAoB,SAAC,GAAuB,IAArBC,EAAqB,EAArBA,QAASC,EAAY,EAAZA,MACvCC,GAAO,OAAIF,GAiBf,OAhBAE,EAAKC,KAAKC,EAAAA,IACVF,EAAOA,EAAKG,KAAI,SAAAC,GAEd,IAAMC,EAAWD,EAAOE,iBACrBC,QAAO,SAAAC,GAAG,OAAIA,EAAIC,QAAQV,IAAU,KACpCW,KAAK,MACR,OACEC,EAAAA,EAAAA,IAACC,EAAAA,GAAD,QACEC,IAAKT,EAAOU,IACRV,EAFN,CAGEE,iBAAkBD,EAClBU,KAAK,iBAMTJ,EAAAA,EAAAA,IAAAA,MAAAA,CACEK,IAAG,IAIHL,EAAAA,EAAAA,IAAAA,KAAAA,CACEK,IAAG,GAMFjB,IAEHY,EAAAA,EAAAA,IAAAA,MAAAA,CACEK,IAAG,GAOFhB,KC+DT,EAzG6B,WAC3B,IAAMiB,GAAOC,EAAAA,EAAAA,gBAAe,cAiDtBC,EAAoB,eACpBC,EAAgBH,EAAKI,cAAcC,MAAMf,QAAO,SAAAgB,GAAM,OAC1DA,EAAOC,KAAKlB,iBAAiBmB,MAC3B,SAAAC,GAAc,OAAIA,IAAmBP,QAInCQ,EAAmB,SAAAC,GAAQ,OAAI,SAACC,EAAGC,GACvC,IAAMC,EAAYF,EAAEL,KAAKlB,iBAAiB0B,MACxC,SAAA3B,GAAQ,OAAIA,EAASI,QAAQmB,IAAa,KAM5C,OAAIG,IAJcD,EAAEN,KAAKlB,iBAAiB0B,MACxC,SAAA3B,GAAQ,OAAIA,EAASI,QAAQmB,IAAa,MAGP,EAE9BG,EAAUtB,QAAQ,SAAW,EAAI,GAAK,IAGzCwB,EAAmB,CACvB,CACEL,SAAUT,EACVrB,QAASsB,IAEXc,OAlDmB,CACnB,kBACA,oBACA,gBACA,iBACA,uBACA,8BACA,0CACA,mDACA,wBACA,gBACA,sCACA,wCACA,iBACA,iBACA,iBACA,kBACA,gBACA,kBACA,oBACA,mBACA,qBA8Ba/B,KAAI,SAAAyB,GAAQ,MAAK,CAC5BA,SAAAA,EACA9B,QAASmB,EAAKI,cAAcC,MACzBf,QAAO,SAAAgB,GAAM,OACZA,EAAOC,KAAKlB,iBAAiBmB,MAC3B,SAAAU,GAAa,OAAIA,EAAc1B,QAAQmB,IAAa,QAGvD3B,KAAK0B,EAAiBC,SAkB7B,OAAOjB,EAAAA,EAAAA,IAAAA,MAAAA,KAbLsB,EAAiB9B,KAAI,YAAuC,IAApCyB,EAAoC,EAApCA,SAChBQ,EADoD,EAA1BtC,QACKK,KAAI,SAAAC,GAAM,wBAC1CA,EAAOoB,SAEZ,OACEb,EAAAA,EAAAA,IAACd,EAAD,CACEgB,IAAKe,EACL9B,QAASsC,EACTrC,MAAO6B","sources":["webpack://they-work-for-us/./src/components/cabinetMemberSection/CabinetMemberList.js","webpack://they-work-for-us/./src/components/cabinetMemberSection/index.js"],"sourcesContent":["import React from \"react\"\n\nimport PeopleCard from \"../peopleCard\"\nimport { sortThaiLocale } from \"../../utils\"\n\nexport const CabinetMemberList = ({ members, title }) => {\n  let list = [...members]\n  list.sort(sortThaiLocale)\n  list = list.map(member => {\n    // keep only 'cabinet_position' of the current section title\n    const position = member.cabinet_position\n      .filter(pos => pos.indexOf(title) >= 0)\n      .join(\", \")\n    return (\n      <PeopleCard\n        key={member.id}\n        {...member}\n        cabinet_position={position}\n        type=\"cabinet\"\n      ></PeopleCard>\n    )\n  })\n\n  return (\n    <div\n      css={{\n        marginBottom: \"6rem\",\n      }}\n    >\n      <h2\n        css={{\n          textAlign: \"center\",\n          fontSize: \"3.6rem\",\n          margin: \"3rem\",\n        }}\n      >\n        {title}\n      </h2>\n      <div\n        css={{\n          display: \"flex\",\n          flexWrap: \"wrap\",\n          margin: \"0 auto\",\n          justifyContent: \"center\",\n        }}\n      >\n        {list}\n      </div>\n    </div>\n  )\n}\n","import React from \"react\"\nimport { useStaticQuery, graphql } from \"gatsby\"\nimport { CabinetMemberList } from \"./CabinetMemberList\"\n\nconst CabinetMemberSection = () => {\n  const data = useStaticQuery(graphql`\n    query {\n      allPeopleYaml(\n        filter: { is_cabinet: { eq: true }, is_active: { eq: true } }\n      ) {\n        edges {\n          node {\n            id\n            title\n            name\n            lastname\n            cabinet_position\n            party\n            party_group\n            mp_type\n            fields {\n              slug\n            }\n          }\n        }\n      }\n    }\n  `)\n\n  const ministryList = [\n    \"รองนายกรัฐมนตรี\",\n    \"สำนักนายกรัฐมนตรี\",\n    \"กระทรวงกลาโหม\",\n    \"กระทรวงการคลัง\",\n    \"กระทรวงการต่างประเทศ\",\n    \"กระทรวงการท่องเที่ยวและกีฬา\",\n    \"กระทรวงพัฒนาสังคมและความมั่นคงของมนุษย์\",\n    \"กระทรวงการอุดมศึกษา วิทยาศาสตร์ วิจัยและนวัตกรรม\",\n    \"กระทรวงเกษตรและสหกรณ์\",\n    \"กระทรวงคมนาคม\",\n    \"กระทรวงดิจิทัลเพื่อเศรษฐกิจและสังคม\",\n    \"กระทรวงทรัพยากรธรรมชาติและสิ่งแวดล้อม\",\n    \"กระทรวงพลังงาน\",\n    \"กระทรวงพาณิชย์\",\n    \"กระทรวงมหาดไทย\",\n    \"กระทรวงยุติธรรม\",\n    \"กระทรวงแรงงาน\",\n    \"กระทรวงวัฒนธรรม\",\n    \"กระทรวงศึกษาธิการ\",\n    \"กระทรวงสาธารณสุข\",\n    \"กระทรวงอุตสาหกรรม\",\n  ]\n\n  // president need special filter\n  const presidentMinistry = \"นายกรัฐมนตรี\"\n  const presidentList = data.allPeopleYaml.edges.filter(people =>\n    people.node.cabinet_position.some(\n      peoplePosition => peoplePosition === presidentMinistry\n    )\n  )\n\n  const positionComparer = ministry => (a, b) => {\n    const aPosition = a.node.cabinet_position.find(\n      position => position.indexOf(ministry) > -1\n    )\n    const bPosition = b.node.cabinet_position.find(\n      position => position.indexOf(ministry) > -1\n    )\n\n    if (aPosition === bPosition) return -1\n\n    return aPosition.indexOf(\"ช่วย\") > -1 ? 1 : -1\n  }\n\n  const memberByMinistry = [\n    {\n      ministry: presidentMinistry,\n      members: presidentList,\n    },\n  ].concat(\n    ministryList.map(ministry => ({\n      ministry,\n      members: data.allPeopleYaml.edges\n        .filter(people =>\n          people.node.cabinet_position.some(\n            peoplePostion => peoplePostion.indexOf(ministry) > -1\n          )\n        )\n        .sort(positionComparer(ministry)),\n    }))\n  )\n\n  const renderCabinetMemberLists = () =>\n    memberByMinistry.map(({ ministry, members: memberList }) => {\n      const memberListWithImg = memberList.map(member => ({\n        ...member.node,\n      }))\n      return (\n        <CabinetMemberList\n          key={ministry}\n          members={memberListWithImg}\n          title={ministry}\n        />\n      )\n    })\n\n  return <div>{renderCabinetMemberLists()}</div>\n}\n\nexport default CabinetMemberSection\n"],"names":["CabinetMemberList","members","title","list","sort","sortThaiLocale","map","member","position","cabinet_position","filter","pos","indexOf","join","___EmotionJSX","PeopleCard","key","id","type","css","data","useStaticQuery","presidentMinistry","presidentList","allPeopleYaml","edges","people","node","some","peoplePosition","positionComparer","ministry","a","b","aPosition","find","memberByMinistry","concat","peoplePostion","memberListWithImg"],"sourceRoot":""}