{"version":3,"sources":["webpack://they-work-for-us/./src/components/motion/motionResult.js"],"names":["Waffle","partyMember","css","split_array","key","className","tenth","fifth","VoteWaffle","en","members","color","hundred","quarter","Card","ResultStatus","VOTELOG_MAP","th","Motionresult","votelog","url","voteLink","pageLink","status","href","target","Array","MotionResult","device"],"mappings":"ojBAUMA,EAAS,SAAC,GAAoB,IAAlBC,EAAkB,EAAlBA,YAChB,OACE,eACEC,IAAG,IAKFC,OAAYF,EAAa,IAAI,qBAC5B,eACEG,IADF,EAEEC,UAFF,QAGEH,IAAG,IAMFC,OAAYG,EAAO,GAAG,qBACrB,eACEF,IADF,EAEEC,UAFF,QAGEH,IAAG,GAMFK,EAAA,KAAU,qBACT,eACEH,IADF,EAEEF,IAAG,iB,qRAiBfM,EAAa,SAAC,GAAD,IAAGC,EAAH,KAAOC,EAAP,UAAgBC,EAAhB,eACjB,eACET,IAAG,IAKFC,OAAYO,EAAS,KAAK,qBACzB,eACEN,IADF,EAEEF,IAAG,IAQFC,OAAYS,EAAS,IAAI,qBACxB,eACER,IADF,EAEEF,IAAG,GAQFW,EAAA,KAAY,qBACX,eACET,IADF,EAEEF,KAAKA,QAAF,yFAMSO,cANT,+CAiBbK,GAAO,EAAH,+BAAG,CAAH,gGAKJC,GAAe,EAAH,8BAAG,CAAH,2GAOZC,EAAc,CAClB,CACEP,GADF,UAEEQ,GAFF,WAGEN,MAAO,sBAET,CACEF,GADF,WAEEQ,GAFF,cAGEN,MAAO,qBAET,CACEF,GADF,YAEEQ,GAFF,cAGEN,MAAO,4BAET,CACEF,GADF,SAEEQ,GAFF,aAGEN,MAAO,0B,qtBAILO,EAAe,SAAC,GAKhB,IAJJb,EAII,EAJJA,UACAc,EAGI,EAHJA,QACAT,EAEI,EAFJA,QAEI,IADJU,IAAOC,EACH,EADGA,SAAUC,EACb,EADaA,SAEXC,EAASJ,EACXA,iCADkB,2BAAtB,iBAMA,OACE,yBACE,cACEjB,IAAG,IA2BH,mBA5BF,eA6BE,eAAKG,UAAU,sBACZiB,IACC,aACEE,KADF,EAEEC,OAFF,SAGEpB,UAAU,4BALhB,iBAUGgB,IACC,aACEG,KADF,EAEEC,OAFF,SAGEpB,UAAU,4BA5CpB,qBAmDE,WAAMA,UAAWA,IACf,eADF,GAEGc,IACC,yBACE,mBACEjB,IAAG,IAIH,cACEA,IAAG,GANP,oBAYGiB,cACC,mBAAMA,uBADPA,MAGC,eACEjB,IAAG,GAOFc,EAAA,KAAgB,YAAuB,IAApBP,EAAoB,EAApBA,GAAIQ,EAAgB,EAAhBA,GAAIN,EAAY,EAAZA,MAC1B,OACE,eAAKP,IAAKK,IACR,cACEP,IAAG,GADL,OAOE,gBACEA,IAAG,GAIFiB,EAbP,MAgBE,WACEV,GADF,EAEEC,SAAO,OAAMgB,MAAMP,EAANO,IAFf,QAGEf,MAAOA,UAQpBQ,WACC,mBACEjB,IAAG,IAIH,cACEA,IAAG,GANP,gCAYE,aAAWQ,QAASA,SAS9BiB,GAAe,8BAAH,oCAGLC,sBAHK,wEAcHA,sBAdG,yJAsClB","file":"9545bb03-0319ac18daa9119c1b13.js","sourcesContent":["import React from \"react\"\nimport styled from \"@emotion/styled\"\nimport { css } from \"@emotion/react\"\nimport _ from \"lodash\"\nimport { split_array } from \"../waffle\"\nimport { device, breakpoint } from \"./size\"\nimport { useState } from \"react\"\nimport { useEffect } from \"react\"\nimport Committee from \"./committee\"\n\nconst Waffle = ({ partyMember }) => {\n  return (\n    <div\n      css={css`\n        display: flex;\n        flex-flow: row wrap;\n      `}\n    >\n      {split_array(partyMember, 10, (tenth, ti) => (\n        <div\n          key={ti}\n          className=\"tenth\"\n          css={css`\n            display: flex;\n            flex-flow: row wrap;\n            margin-right: 1px;\n          `}\n        >\n          {split_array(tenth, 5, (fifth, fi) => (\n            <div\n              key={fi}\n              className=\"fifth\"\n              css={css`\n                display: flex;\n                flex-flow: row nowrap;\n                margin-right: 1px;\n              `}\n            >\n              {fifth.map((_, i) => (\n                <div\n                  key={i}\n                  css={css`\n                    width: 8px;\n                    height: 8px;\n                    background-color: var(--cl-gray-3);\n                    margin-right: 1px;\n                    margin-bottom: 1px;\n                  `}\n                ></div>\n              ))}\n            </div>\n          ))}\n        </div>\n      ))}\n    </div>\n  )\n}\n\nconst VoteWaffle = ({ en, members, color }) => (\n  <div\n    css={css`\n      display: flex;\n      flex-flow: row wrap;\n    `}\n  >\n    {split_array(members, 100, (hundred, hi) => (\n      <div\n        key={hi}\n        css={css`\n          display: flex;\n          flex-flow: row wrap;\n          margin-right: 2px;\n          width: 92px;\n          align-items: flex-start;\n        `}\n      >\n        {split_array(hundred, 25, (quarter, qi) => (\n          <div\n            key={qi}\n            css={css`\n              display: flex;\n              flex-flow: row wrap;\n              width: 45px;\n              margin-right: 1px;\n              margin-bottom: 1px;\n            `}\n          >\n            {quarter.map((_, i) => (\n              <div\n                key={i}\n                css={css`\n                  width: 8px;\n                  height: 8px;\n                  background-color: ${color};\n                  margin-right: 1px;\n                  margin-bottom: 1px;\n                  border: ${en === \"absent\" && `1px solid black`};\n                `}\n              ></div>\n            ))}\n          </div>\n        ))}\n      </div>\n    ))}\n  </div>\n)\n\nconst Card = styled.div`\n  background-color: rgb(250, 250, 250);\n  border: 1px solid var(--cl-gray-4);\n`\n\nconst ResultStatus = styled.h3`\n  border-left: 6px solid var(--cl-black);\n  font-size: 26px;\n  padding: 20px 15px;\n  margin: 0;\n`\n\nconst VOTELOG_MAP = [\n  {\n    en: \"approve\",\n    th: \"เห็นด้วย\",\n    color: \"var(--cl-vote-yes)\",\n  },\n  {\n    en: \"disprove\",\n    th: \"ไม่เห็นด้วย\",\n    color: \"var(--cl-vote-no)\",\n  },\n  {\n    en: \"abstained\",\n    th: \"ไม่ออกเสียง\",\n    color: \"var(--cl-vote-abstained)\",\n  },\n  {\n    en: \"absent\",\n    th: \"ไม่ลงคะแนน\",\n    color: \"var(--cl-vote-absent)\",\n  },\n]\n\nconst Motionresult = ({\n  className,\n  votelog,\n  members,\n  url: { voteLink, pageLink },\n}) => {\n  const status = votelog\n    ? votelog.passed\n      ? \"แต่งตั้งคณะกรรมาธิการ\"\n      : \"ไม่แต่งตั้งคณะกรรมาธิการ\"\n    : \"ยังไม่ได้ลงมติ\"\n\n  return (\n    <>\n      <h3\n        css={css`\n          font-size: 20px;\n          margin: 15px 0;\n\n          display: flex;\n          justify-content: space-between;\n          align-items: center;\n\n          .download {\n            font-family: var(--ff-text);\n            font-weight: 100;\n            font-size: 16px;\n            border: 1px solid var(--cl-gray-4);\n            border-radius: 4px;\n            padding: 5px 10px;\n            color: var(--cl-gray-1);\n\n            & + .download {\n              margin-left: 10px;\n            }\n\n            &-container {\n              display: flex;\n            }\n          }\n        `}\n      >\n        <div>ผลการลงมติ</div>\n        <div className=\"download-container\">\n          {pageLink && (\n            <a\n              href={pageLink}\n              target=\"_blank\"\n              className=\"download download-detail\"\n            >\n              รายละเอียดมติ\n            </a>\n          )}\n          {voteLink && (\n            <a\n              href={voteLink}\n              target=\"_blank\"\n              className=\"download download-record\"\n            >\n              บันทึกการลงมติ\n            </a>\n          )}\n        </div>\n      </h3>\n      <Card className={className}>\n        <ResultStatus>{status}</ResultStatus>\n        {votelog && (\n          <>\n            <section\n              css={css`\n                padding: 20px 30px;\n              `}\n            >\n              <h3\n                css={css`\n                  font-size: 18px;\n                `}\n              >\n                บันทึกคะแนนเสียง\n              </h3>\n              {votelog.is_no_vote ? (\n                <div>{votelog.no_vote_description || \"-\"}</div>\n              ) : (\n                <div\n                  css={css`\n                    padding: 20px 30px;\n                    display: flex;\n                    flex-flow: row wrap;\n                    justify-content: space-evenly;\n                  `}\n                >\n                  {VOTELOG_MAP.map(({ en, th, color }) => {\n                    return (\n                      <div key={en}>\n                        <h5\n                          css={css`\n                            font-size: 14px;\n                            margin: 10px 0;\n                          `}\n                        >\n                          {th}{\" \"}\n                          <span\n                            css={css`\n                              color: var(--cl-gray-1);\n                            `}\n                          >\n                            {votelog[en]}\n                          </span>\n                        </h5>\n                        <VoteWaffle\n                          en={en}\n                          members={[...Array(votelog[en]).keys()]}\n                          color={color}\n                        />\n                      </div>\n                    )\n                  })}\n                </div>\n              )}\n            </section>\n            {votelog.passed && (\n              <section\n                css={css`\n                  padding: 20px 30px;\n                `}\n              >\n                <h3\n                  css={css`\n                    font-size: 18px;\n                  `}\n                >\n                  ข้อมูลแต่งตั้งคณะกรรมาธิการ\n                </h3>\n                <Committee members={members} />\n              </section>\n            )}\n          </>\n        )}\n      </Card>\n    </>\n  )\n}\nconst MotionResult = styled(Motionresult)`\n  & .committee {\n    display: flex;\n    @media ${device.motionResultBreak} {\n      flex-flow: column-reverse;\n    }\n\n    &-member {\n      flex: 1;\n    }\n\n    &-party {\n      width: 30%;\n\n      @media ${device.motionResultBreak} {\n        width: 100%;\n        display: flex;\n        flex-flow: row wrap;\n        margin-bottom: 30px;\n        & > h4 {\n          flex: 0 0 100%;\n        }\n\n        & > div {\n          flex: 0 0 50%;\n        }\n      }\n    }\n\n    & h4 {\n      font-size: 15px;\n    }\n    & ul {\n      list-style: none;\n    }\n  }\n`\n\nexport default MotionResult\nexport { Waffle }\n"],"sourceRoot":""}