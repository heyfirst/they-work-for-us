{"version":3,"file":"1a8ae411393299e0f2cb8004073045595cdee8fa-aa4c550edf43be76cda8.js","mappings":"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","sources":["webpack://they-work-for-us/./src/components/externalLink.js","webpack://they-work-for-us/./src/components/profile/officialWebsite.js","webpack://they-work-for-us/./src/utils/index.js","webpack://they-work-for-us/./node_modules/lodash/compact.js"],"sourcesContent":["import React from \"react\"\n\nconst ExternalLink = ({ children, ...props }) => {\n  return (\n    <a {...props} target=\"_blank\" rel=\"noopener noreferrer\">\n      {children}\n    </a>\n  )\n}\n\nexport default ExternalLink\n","import React from \"react\"\nimport _ from \"lodash\"\nimport ExternalLink from \"../externalLink\"\n\nconst cssLinkBox = {\n  fontSize: \"1.7rem\",\n  fontFamily: \"var(--ff-title)\",\n  fontWeight: \"bold\",\n  textDecoration: \"none\",\n  border: \"1px solid var(--cl-black)\",\n  marginRight: \"1rem\",\n  padding: \"0 1rem\",\n  color: \"var(--cl-black)\",\n  \"&:hover\": {\n    textDecoration: \"none\",\n  },\n}\n\n// component to show official websites\nconst OfficialWebsite = profile => {\n  const items = _.compact(\n    [\"website\", \"facebook\", \"twitter\"].map(key => {\n      const official = profile[key]\n      if (!official) return null\n      return (\n        <ExternalLink key={key} href={official} css={{ ...cssLinkBox }}>\n          {_.startCase(key)}\n        </ExternalLink>\n      )\n    })\n  )\n  return (\n    <div className=\"official-website\">\n      {items.length > 0 ? items : \"ไม่มีข้อมูล\"}\n    </div>\n  )\n}\n\nexport default OfficialWebsite\n","import dayjs from \"dayjs\"\nimport _ from \"lodash\"\n\n/**\n * Format date\n * @param {Date,String,dayjs} date\n */\nexport function formatDate(dt) {\n  return dayjs(dt).format(\"DD.MM.YYYY\")\n}\n\n/**\n * Format number with thousands\n * @param {Number} num\n */\nexport function formatNumber(num) {\n  return num.toString().replace(/(\\d)(?=(\\d{3})+(?!\\d))/g, \"$1,\")\n}\n\n/**\n * Format ordinal number e.g. 2 => 2nd, 3 => 3rd\n * @param {Number} num\n */\nexport function formatOrdinalNumber(num) {\n  const s = num.toString()\n  const n = s.slice(-1)\n  let ord\n  switch (n) {\n    case \"1\":\n      ord = \"st\"\n      break\n    case \"2\":\n      ord = \"nd\"\n      break\n    case \"3\":\n      ord = \"rd\"\n      break\n    default:\n      ord = \"th\"\n  }\n  return `${s}<sup>${ord}</sup>`\n}\n\n/**\n * Comparator function to use in Array.sort(sortThaiLocale)\n * @param {People} a Person object\n * @param {People} b Person object\n */\nexport function sortThaiLocale(a, b) {\n  return a.name === b.name\n    ? a.lastname.localeCompare(b.lastname, \"th\")\n    : a.name.localeCompare(b.name, \"th\")\n}\n\n/**\n * Create people profile slug\n * @param {String} fullname\n */\nexport function peopleSlug(fullname) {\n  if (!fullname) return \"\"\n  return `/people/${fullname.replace(/ /g, \"-\")}`\n}\n\n/**\n * Calcaulate person's age from his/her birthdaty\n * @param {String, Date} birthdate Date format accepted by dayjs\n */\nexport function ageFromBirthdate(birthdate) {\n  return dayjs().diff(dayjs(birthdate), \"year\")\n}\n\n/**\n * For fun. Change arabic number to Thai reading\n * @param {Number} number\n */\nexport function getThaiName(number) {\n  const mapping = d => {\n    switch (d) {\n      case \"0\":\n        return \"ศูนย์\"\n      case \"1\":\n        return \"หนึ่ง\"\n      case \"2\":\n        return \"สอง\"\n      case \"3\":\n        return \"สาม\"\n      case \"4\":\n        return \"สี่\"\n      case \"5\":\n        return \"ห้า\"\n      case \"6\":\n        return \"หก\"\n      case \"7\":\n        return \"เจ็ด\"\n      case \"8\":\n        return \"แปด\"\n      case \"9\":\n        return \"เก้า\"\n      default:\n        return \"ว่าง\"\n    }\n  }\n  const digits = String(number)\n  return _.map(digits, d => mapping(d)).join(\"\")\n}\n\n/**\n * Create motion category slug\n * @param {String} subCategory\n */\nexport function motionCategorySlug(subCategory) {\n  if (!subCategory) return \"\"\n  return `${subCategory.replace(/ /g, \"-\")}`\n}\n\nexport function float2Grey(x) {\n  x = 1 - x\n  x = parseInt(x * 15)\n  x = x.toString(16)\n  return \"#\" + x + x + x\n}\n\nexport function calculateBackground(input) {\n  let count = input.length - 1\n  input.forEach((x, idx) => {\n    x.background = float2Grey(idx / count)\n  })\n  return input\n}\n\nexport function combineCategory(input, restMin = 3) {\n  // first, split 'unknown' and other values\n  const unknownIndex = _.findIndex(input, [\"name\", \"ไม่พบข้อมูล\"])\n  const [unknown] = unknownIndex >= 0 ? input.splice(unknownIndex, 1) : []\n\n  // sort the rest by m\n  input.sort((a, b) => parseInt(b.value) - parseInt(a.value))\n  let temp = []\n  let count_others = 0\n  input.map((x, idx) => {\n    if (idx > restMin - 1) {\n      count_others += x.value\n    } else {\n      temp.push(x)\n    }\n    return x\n  })\n  if (count_others > 0) {\n    temp.push({ value: count_others, name: \"อื่นๆ\" })\n  }\n  input = temp\n\n  // lastly, put 'unknown' back as the last item\n  if (unknown) {\n    input.push(unknown)\n  }\n  return input\n}\n\nexport function padCategory(input) {\n  input.map(x => {\n    if (!x.name) {\n      x.name = \"ไม่พบข้อมูล\"\n    }\n    return x\n  })\n  return input\n}\n\nexport function assetHistogram(edges, bins = [10, 100, 1000]) {\n  const unknown = { name: \"ไม่พบข้อมูล\", value: 0 }\n  let lowerbound = -1\n  let prev_lowerbound\n  const assets = [\n    ...bins.map(max => {\n      prev_lowerbound = lowerbound + 1\n      lowerbound = max\n      return {\n        name: `${prev_lowerbound}-${max} ล้านบาท`,\n        value: 0,\n        max: max * 1e6,\n      }\n    }),\n    {\n      name: `${bins[bins.length - 1] + 1} ล้านบาทขึ้นไป`,\n      value: 0,\n      max: Number.POSITIVE_INFINITY,\n    },\n  ]\n  edges.forEach(({ node }) => {\n    if (typeof node.asset === \"number\" && node.asset >= 0) {\n      for (const bin of assets) {\n        if (node.asset <= bin.max) {\n          bin.value++\n          break\n        }\n      }\n    } else {\n      unknown.value++\n    }\n  })\n  return [...assets, unknown]\n}\n\nexport function birthdayToAgeHistogram(birthdate, ageBin = [39, 55, 74]) {\n  let age = []\n  age.push({\n    name: String(\"25-\" + String(ageBin[0] - 1)) + \" ปี\",\n    value: 0,\n  })\n  age.push({\n    name: String(ageBin[0]) + \"-\" + String(ageBin[1] - 1) + \" ปี\",\n    value: 0,\n  })\n  age.push({\n    name: String(ageBin[1]) + \"-\" + String(ageBin[2] - 1) + \" ปี\",\n    value: 0,\n  })\n  age.push({ name: String(ageBin[2]) + \" ปีขึ้นไป\", value: 0 })\n  const today = dayjs().year()\n  birthdate.map(x => {\n    const y = dayjs(x.node.birthdate).year()\n    const a = today - y\n    if (a < ageBin[0]) {\n      age[0].value++\n    } else if (a < ageBin[1]) {\n      age[1].value++\n    } else if (a < ageBin[2]) {\n      age[2].value++\n    } else {\n      age[3].value++\n    }\n    return x\n  })\n  return age\n}\n\n/**\n * Template is an ordered list of columns to sort and set color\n * template = [\n *   { name: 'Male', label: 'เพศชาย', background: 'blue' },\n *   { name: 'Female', label: 'เพศหญฺิง', background: 'red' },\n * ]\n *\n * Where\n * - `name` is a group value to match\n * - `label`, if specified, use this value as a label name instead of value of `name`\n * - `background` set color for this stack\n * @param {*} data\n * @param {Array} template\n */\nexport function arrangeData(data, template, options = {}) {\n  options = {\n    valueKey: \"name\",\n    ...options,\n  }\n  return _.compact(\n    template.map((col, i) => {\n      const item = _.find(data || [], [options.valueKey, col.name])\n      if (!item) return null\n      return {\n        ...item,\n        name: col.label || col.name,\n        background: col.background,\n      }\n    })\n  )\n}\n\nexport function loadCategoryStats(data) {\n  let education\n  if (_.get(data, \"education.group\")) {\n    education = [..._.get(data, \"education.group\")]\n    education = arrangeData(education, [\n      { name: \"ต่ำกว่าปริญญาตรี\", background: \"var(--cl-theme-1)\" },\n      { name: \"สถาบันทหาร\", background: \"var(--cl-theme-2)\" },\n      { name: \"ปริญญาตรี\", background: \"var(--cl-theme-3)\" },\n      { name: \"ปริญญาโท\", background: \"var(--cl-theme-4)\" },\n      { name: \"ปริญญาเอก\", background: \"var(--cl-theme-5)\" },\n      { name: \"ไม่พบข้อมูล\", background: \"var(--cl-theme-unknown)\" },\n    ])\n  }\n\n  let occupation_group\n  if (_.get(data, \"occupation_group.group\")) {\n    occupation_group = [..._.get(data, \"occupation_group.group\")]\n    occupation_group = padCategory(occupation_group)\n    occupation_group = combineCategory(occupation_group)\n    const main_occupation_group = occupation_group.filter(\n      oc => ![\"อื่นๆ\", \"ไม่พบข้อมูล\"].includes(oc.name)\n    )\n    occupation_group = arrangeData(occupation_group, [\n      ...main_occupation_group.slice(0, 3).map((group, i) => ({\n        name: group.name,\n        background: `var(--cl-theme-${2 + i})`,\n      })),\n      { name: \"อื่นๆ\", background: \"var(--cl-theme-5)\" },\n      { name: \"ไม่พบข้อมูล\", background: \"var(--cl-theme-unknown)\" },\n    ])\n  }\n\n  let gender\n  if (_.get(data, \"gender.group\")) {\n    gender = [..._.get(data, \"gender.group\")]\n    gender = arrangeData(gender, [\n      { name: \"ชาย\", background: \"var(--cl-theme-2)\" },\n      { name: \"หญิง\", background: \"var(--cl-theme-5)\" },\n      { name: \"ไม่พบข้อมูล\", background: \"var(--cl-theme-unknown)\" },\n    ])\n  }\n\n  let age\n  if (_.get(data, \"age.edges\")) {\n    age = [..._.get(data, \"age.edges\")]\n    age = birthdayToAgeHistogram(age)\n    age = arrangeData(age, [\n      { name: \"25-38 ปี\", background: \"var(--cl-theme-2)\" },\n      { name: \"39-54 ปี\", background: \"var(--cl-theme-3)\" },\n      { name: \"55-73 ปี\", background: \"var(--cl-theme-4)\" },\n      { name: \"74 ปีขึ้นไป\", background: \"var(--cl-theme-5)\" },\n      { name: \"ไม่พบข้อมูล\", background: \"var(--cl-theme-unknown)\" },\n    ])\n  }\n\n  let asset\n  if (_.get(data, \"asset.edges\")) {\n    asset = [..._.get(data, \"asset.edges\")]\n    asset = assetHistogram(asset)\n    asset = arrangeData(asset, [\n      { name: \"0-10 ล้านบาท\", background: \"var(--cl-theme-2)\" },\n      { name: \"11-100 ล้านบาท\", background: \"var(--cl-theme-3)\" },\n      { name: \"101-1000 ล้านบาท\", background: \"var(--cl-theme-4)\" },\n      { name: \"1001 ล้านบาทขึ้นไป\", background: \"var(--cl-theme-5)\" },\n      { name: \"ไม่พบข้อมูล\", background: \"var(--cl-theme-unknown)\" },\n    ])\n  }\n\n  let mp_type\n  if (_.get(data, \"mp_type.group\")) {\n    mp_type = [..._.get(data, \"mp_type.group\")]\n    mp_type = arrangeData(mp_type, [\n      { name: \"บัญชีรายชื่อ\", background: \"var(--cl-theme-2)\" },\n      { name: \"แบ่งเขต\", background: \"var(--cl-theme-5)\" },\n    ])\n  }\n\n  return {\n    gender,\n    asset,\n    age,\n    education,\n    occupation_group,\n    mp_type,\n  }\n}\n\nexport function filterVote(peopleVotelog, key, value) {\n  return _.filter(peopleVotelog, o => {\n    return (\n      _.get(\n        _.find(o.votelog || [], p => p.key === key),\n        \"value\"\n      ) === value\n    )\n  })\n}\n\nexport function joinPeopleVotelog(people, peopleVotelogs, votelogs, limit = 6) {\n  const votelogByPeople = peopleVotelogs.edges.map(({ node }) => node)\n  const allPeople = people.edges.map(({ node: person }) => {\n    const vote = _.find(votelogByPeople, [\"id\", person.id])\n    return {\n      ...person,\n      ...vote,\n    }\n  })\n\n  return votelogs.edges\n    .map(({ node: votelog }) => {\n      const approve = filterVote(allPeople, votelog.id, \"1\").length\n      const disprove = filterVote(allPeople, votelog.id, \"2\").length\n      const abstained = filterVote(allPeople, votelog.id, \"3\").length\n      const absent = filterVote(allPeople, votelog.id, \"4\").length\n      const filteredVoteResult = {\n        approve,\n        disprove,\n        abstained,\n        absent,\n        total_voter: approve + disprove + abstained + absent,\n      }\n      return {\n        ...votelog,\n        ...filteredVoteResult,\n      }\n    })\n    .filter(({ total_voter }) => total_voter > 0)\n    .slice(0, limit)\n}\n","/**\n * Creates an array with all falsey values removed. The values `false`, `null`,\n * `0`, `\"\"`, `undefined`, and `NaN` are falsey.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Array\n * @param {Array} array The array to compact.\n * @returns {Array} Returns the new array of filtered values.\n * @example\n *\n * _.compact([0, 1, false, 2, '', 3]);\n * // => [1, 2, 3]\n */\nfunction compact(array) {\n  var index = -1,\n      length = array == null ? 0 : array.length,\n      resIndex = 0,\n      result = [];\n\n  while (++index < length) {\n    var value = array[index];\n    if (value) {\n      result[resIndex++] = value;\n    }\n  }\n  return result;\n}\n\nmodule.exports = compact;\n"],"names":["children","props","___EmotionJSX","target","rel","cssLinkBox","fontSize","fontFamily","fontWeight","textDecoration","border","marginRight","padding","color","profile","items","_compact","map","key","official","ExternalLink","href","css","_css","_startCase","className","length","formatDate","dt","dayjs","format","formatNumber","num","toString","replace","formatOrdinalNumber","ord","s","slice","sortThaiLocale","a","b","name","lastname","localeCompare","peopleSlug","fullname","ageFromBirthdate","birthdate","diff","motionCategorySlug","subCategory","arrangeData","data","template","options","valueKey","col","i","item","_find","label","background","loadCategoryStats","education","occupation_group","input","gender","age","asset","mp_type","_get","x","restMin","unknownIndex","_findIndex","unknown","splice","sort","parseInt","value","temp","count_others","idx","push","combineCategory","main_occupation_group","filter","oc","includes","group","ageBin","String","today","year","y","node","birthdayToAgeHistogram","edges","bins","prev_lowerbound","lowerbound","assets","max","Number","POSITIVE_INFINITY","forEach","bin","assetHistogram","filterVote","peopleVotelog","_filter","o","votelog","p","joinPeopleVotelog","people","peopleVotelogs","votelogs","limit","votelogByPeople","allPeople","person","vote","id","approve","disprove","abstained","absent","filteredVoteResult","total_voter","module","exports","array","index","resIndex","result"],"sourceRoot":""}